# å®‰çŸ¥é±¼ä¸»é¢˜å¯¼èˆªæ é…ç½®å’Œæ ·å¼æ€»ç»“

## ğŸ“‹ å¯¼èˆªæ é…ç½®é¡¹ (\_config.anzhiyu.yml)

### 1. ä¸»èœå•é…ç½® (menu)

```yaml
menu:
  æ–‡ç« :
    éš§é“: /archives/ || anzhiyu-icon-box-archive
    åˆ†ç±»: /categories/ || anzhiyu-icon-shapes
    æ ‡ç­¾: /tags/ || anzhiyu-icon-tags

  ç”Ÿæ´»:
    å…³äºæˆ‘: /about/ || anzhiyu-icon-paper-plane
    ç”Ÿæ´»éšç¬”: /essay/ || anzhiyu-icon-lightbulb
    ç›¸å†Œé›†: /album/ || anzhiyu-icon-images

  äº’åŠ¨:
    ç•™è¨€æ¿: /comments/ || anzhiyu-icon-envelope
    å‹é“¾: /link/ || anzhiyu-icon-link
    éšä¾¿é€›é€›: javascript:toRandomPost() || anzhiyu-icon-shoe-prints1
```

### 2. å¯¼èˆªæ åŠŸèƒ½é…ç½® (nav)

```yaml
nav:
  enable: false # å¯¼èˆªæ ä¸‹æ‹‰èœå•å¼€å…³
  travelling: false # å¼€å¾€é¡¹ç›®æŒ‰é’®
  clock: false # æ—¶é’Ÿæ˜¾ç¤º
  menu: # ä¸‹æ‹‰èœå•é¡¹ç›®
    - title: ç½‘é¡µ
      item:
        - name: åšå®¢
          link: https://blog.anheyu.com/
          icon: /img/favicon.ico
    - title: é¡¹ç›®
      item:
        - name: å®‰çŸ¥é±¼å›¾åºŠ
          link: https://image.anheyu.com/
          icon: https://image.anheyu.com/favicon.ico
```

### 3. ä¸»é¢˜è‰²é…ç½® (å½±å“å¯¼èˆªæ é¢œè‰²)

```yaml
theme_color:
  enable: true
  main: "#D2B48C" # å¥¶èŒ¶è‰²ä¸»è‰²è°ƒ
  dark_main: "#8B7355" # æ·±è‰²æ¨¡å¼å¥¶èŒ¶è‰²
  button_hover: "#CD853F" # æŒ‰é’®æ‚¬åœé¢œè‰²
  link_color: "#CD853F" # é“¾æ¥é¢œè‰²
  meta_theme_color_light: "#FAF0E6" # æµ…è‰²ä¸»é¢˜å…ƒæ ‡ç­¾é¢œè‰²
  meta_theme_color_dark: "#2F2F2F" # æ·±è‰²ä¸»é¢˜å…ƒæ ‡ç­¾é¢œè‰²
```

## ğŸ—ï¸ å¯¼èˆªæ  HTML ç»“æ„

### ä¸»è¦å®¹å™¨ç»“æ„

```html
<nav id="nav">
  <div id="nav-group">
    <!-- ç½‘ç«™åç§°å’Œè¿”å›æŒ‰é’® -->
    <span id="blog_name">
      <div class="back-home-button">...</div>
      <a id="site-name" href="/">
        <div class="title">å¥¶èŒ¶å‘³çš„é¦™è‰</div>
        <i class="anzhiyufont anzhiyu-icon-house-chimney"></i>
      </a>
    </span>

    <!-- é¡µé¢åç§°å®¹å™¨ -->
    <div class="mask-name-container">
      <div id="name-container">
        <a id="page-name">PAGE_NAME</a>
      </div>
    </div>

    <!-- ä¸»èœå• -->
    <div id="menus">
      <div class="menus_items">
        <div class="menus_item">...</div>
      </div>
    </div>

    <!-- å³ä¾§åŠŸèƒ½æŒ‰é’® -->
    <div id="nav-right">
      <div class="nav-button" id="randomPost_button">...</div>
      <div class="nav-button" id="search-button">...</div>
      <div class="nav-button" id="nav-totop">...</div>
      <div id="toggle-menu">...</div>
    </div>
  </div>
</nav>
```

## ğŸ¨ å¯¼èˆªæ  CSS æ ·å¼å®šä¹‰

### 1. åŸºç¡€æ ·å¼ (themes/anzhiyu/source/css/\_layout/head.styl)

```stylus
#nav
  position: fixed
  transition: .3s
  top: 0
  z-index: 90
  display: flex
  align-items: center
  padding: 0 calc((100% - 1400px + 3rem) / 2)
  width: 100%
  height: 60px
  opacity: 1
  justify-content: space-between
  outline: 1px solid var(--anzhiyu-none)
```

### 2. é€æ˜çŠ¶æ€æ ·å¼

```stylus
#page-header:not(.nav-fixed)
  #nav
    backdrop-filter: none
    background: transparent        # é»˜è®¤é€æ˜èƒŒæ™¯
    border-bottom: none
```

### 3. å›ºå®šçŠ¶æ€æ ·å¼ (nav-fixed)

```stylus
#page-header.nav-fixed
  #nav
    background: var(--anzhiyu-card-bg)      # å›ºå®šæ—¶æœ‰èƒŒæ™¯
    outline: 1px solid var(--anzhiyu-card-border)
    transform: translateZ(0)
```

### 4. æ·±è‰²æ¨¡å¼æ ·å¼ (themes/anzhiyu/source/css/\_mode/darkmode.styl)

```stylus
[data-theme='dark']
  #page-header
    &.nav-fixed > #nav,
    &.not-top-img > #nav
      background: var(--anzhiyu-black)
      box-shadow: 0 5px 6px -5px rgba(133, 133, 133, 0)
```

## ğŸ”§ å¯¼èˆªæ  CSS é€‰æ‹©å™¨è¯´æ˜

### ä¸»è¦é€‰æ‹©å™¨

- `#nav` - å¯¼èˆªæ ä¸»å®¹å™¨
- `#nav-group` - å¯¼èˆªæ å†…å®¹ç»„
- `#blog_name` - ç½‘ç«™åç§°åŒºåŸŸ
- `#site-name` - ç½‘ç«™æ ‡é¢˜é“¾æ¥
- `#menus` - ä¸»èœå•å®¹å™¨
- `.menus_items` - èœå•é¡¹å®¹å™¨
- `.menus_item` - å•ä¸ªèœå•é¡¹
- `#nav-right` - å³ä¾§åŠŸèƒ½åŒº
- `.nav-button` - å¯¼èˆªæŒ‰é’®

### çŠ¶æ€é€‰æ‹©å™¨

- `#page-header.nav-fixed` - å¯¼èˆªæ å›ºå®šçŠ¶æ€
- `#page-header:not(.nav-fixed)` - å¯¼èˆªæ éå›ºå®šçŠ¶æ€
- `[data-theme="dark"]` - æ·±è‰²æ¨¡å¼
- `.nav-visible` - å¯¼èˆªæ å¯è§çŠ¶æ€

## ğŸ“Š å½“å‰å¯¼èˆªæ çŠ¶æ€åˆ†æ

### âœ… æ­£å¸¸åŠŸèƒ½

- å¯¼èˆªæ åŸºç¡€ç»“æ„å®Œæ•´
- èœå•é…ç½®æ­£ç¡®
- å“åº”å¼å¸ƒå±€æ­£å¸¸
- æ·±æµ…æ¨¡å¼åˆ‡æ¢æ­£å¸¸

### âŒ å­˜åœ¨é—®é¢˜

1. **èƒŒæ™¯é€æ˜åº¦é—®é¢˜**

   - ç”±äºè®¾ç½®äº†å…¨å±€èƒŒæ™¯å›¾ç‰‡ï¼Œå¯¼èˆªæ åœ¨éå›ºå®šçŠ¶æ€ä¸‹å®Œå…¨é€æ˜
   - å¯¼èˆªæ æ–‡å­—åœ¨èƒŒæ™¯å›¾ç‰‡ä¸Šä¸å¤Ÿæ¸…æ™°å¯è§
   - å½±å“ç”¨æˆ·ä½“éªŒå’Œå¯è¯»æ€§

2. **è§†è§‰å±‚æ¬¡é—®é¢˜**
   - å¯¼èˆªæ ä¸èƒŒæ™¯å›¾ç‰‡ç¼ºä¹è¶³å¤Ÿçš„å¯¹æ¯”åº¦
   - æ–‡å­—å¯è¯»æ€§ä¸ä½³

### ğŸ¯ éœ€è¦è§£å†³çš„é—®é¢˜

1. æ¢å¤å¯¼èˆªæ çš„èƒŒæ™¯è‰²ï¼Œç¡®ä¿æ–‡å­—æ¸…æ™°å¯è¯»
2. ä¿æŒä¸å¥¶èŒ¶è‰²ä¸»é¢˜çš„åè°ƒæ€§
3. å…¼å®¹æ·±è‰²/æµ…è‰²æ¨¡å¼
4. ä¿æŒç¾è§‚æ€§å’Œæ•´ä½“è®¾è®¡ä¸€è‡´æ€§

## ğŸ“ æŠ€æœ¯å®ç°åˆ†æ

### å½“å‰é€æ˜æœºåˆ¶

```stylus
#page-header:not(.nav-fixed) #nav
  backdrop-filter: none
  background: transparent    # è¿™é‡Œå¯¼è‡´é€æ˜
  border-bottom: none
```

### å›ºå®šçŠ¶æ€æœºåˆ¶

```javascript
// main.js ä¸­çš„æ»šåŠ¨æ£€æµ‹
if (currentTop > 26) {
  $header.classList.add("nav-fixed"); // æ·»åŠ å›ºå®šçŠ¶æ€ç±»
}
```

### CSS å˜é‡ç³»ç»Ÿ

- `var(--anzhiyu-card-bg)` - å¡ç‰‡èƒŒæ™¯è‰²
- `var(--anzhiyu-card-border)` - å¡ç‰‡è¾¹æ¡†è‰²
- `var(--anzhiyu-main)` - ä¸»é¢˜è‰²
- `var(--font-color)` - å­—ä½“é¢œè‰²

## âœ… é—®é¢˜è§£å†³æ–¹æ¡ˆï¼ˆå·²å®æ–½ï¼‰

### ğŸ”§ æŠ€æœ¯å®ç°

**1. å¯¼èˆªæ èƒŒæ™¯ä¼˜åŒ–**

```css
/* å¯¼èˆªæ éå›ºå®šçŠ¶æ€ - æ·»åŠ å¥¶èŒ¶è‰²åŠé€æ˜èƒŒæ™¯ */
#page-header:not(.nav-fixed) #nav {
  background: rgba(250, 240, 230, 0.85) !important; /* å¥¶èŒ¶è‰²åŠé€æ˜èƒŒæ™¯ */
  backdrop-filter: blur(10px) !important;
  -webkit-backdrop-filter: blur(10px) !important;
  border-bottom: 1px solid rgba(210, 180, 140, 0.3) !important;
  box-shadow: 0 2px 10px rgba(210, 180, 140, 0.2) !important;
  transition: all 0.3s ease !important;
}

/* å¯¼èˆªæ å›ºå®šçŠ¶æ€ - å¢å¼ºèƒŒæ™¯ */
#page-header.nav-fixed #nav {
  background: rgba(250, 240, 230, 0.95) !important; /* æ›´ä¸é€æ˜çš„èƒŒæ™¯ */
  backdrop-filter: blur(15px) !important;
  -webkit-backdrop-filter: blur(15px) !important;
  outline: 1px solid rgba(210, 180, 140, 0.4) !important;
  box-shadow: 0 4px 20px rgba(210, 180, 140, 0.3) !important;
}
```

**2. æ·±è‰²æ¨¡å¼é€‚é…**

```css
/* æ·±è‰²æ¨¡å¼å¯¼èˆªæ  - éå›ºå®šçŠ¶æ€ */
[data-theme="dark"] #page-header:not(.nav-fixed) #nav {
  background: rgba(24, 23, 29, 0.85) !important; /* æ·±è‰²åŠé€æ˜èƒŒæ™¯ */
  border-bottom: 1px solid rgba(139, 115, 85, 0.3) !important;
  box-shadow: 0 2px 10px rgba(139, 115, 85, 0.2) !important;
}

/* æ·±è‰²æ¨¡å¼å¯¼èˆªæ  - å›ºå®šçŠ¶æ€ */
[data-theme="dark"] #page-header.nav-fixed #nav {
  background: rgba(24, 23, 29, 0.95) !important; /* æ›´ä¸é€æ˜çš„æ·±è‰²èƒŒæ™¯ */
  outline: 1px solid rgba(139, 115, 85, 0.4) !important;
  box-shadow: 0 4px 20px rgba(139, 115, 85, 0.3) !important;
}
```

**3. æ–‡å­—å¯è¯»æ€§ä¼˜åŒ–**

```css
/* å¯¼èˆªæ æ–‡å­—å¯è¯»æ€§ä¼˜åŒ– */
#nav #blog_name a,
#nav #menus a,
#nav #nav-right a,
#nav .site-page {
  color: #8b7355 !important; /* æ·±å¥¶èŒ¶è‰²ï¼Œç¡®ä¿åœ¨æµ…è‰²èƒŒæ™¯ä¸Šæ¸…æ™° */
  text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8) !important;
  font-weight: 500 !important;
  transition: all 0.3s ease !important;
}

/* å¯¼èˆªæ æ–‡å­—æ‚¬åœæ•ˆæœ */
#nav #blog_name a:hover,
#nav #menus a:hover,
#nav #nav-right a:hover {
  color: #ffffff !important;
  background: rgba(210, 180, 140, 0.9) !important;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3) !important;
  transform: translateY(-1px) !important;
  box-shadow: 0 4px 12px rgba(210, 180, 140, 0.4) !important;
}
```

### âœ¨ è§£å†³æ–¹æ¡ˆç‰¹ç‚¹

1. **åŠé€æ˜èƒŒæ™¯**ï¼š

   - éå›ºå®šçŠ¶æ€ï¼š85% ä¸é€æ˜åº¦ï¼Œä¿æŒè§†è§‰å±‚æ¬¡
   - å›ºå®šçŠ¶æ€ï¼š95% ä¸é€æ˜åº¦ï¼Œå¢å¼ºå¯è¯»æ€§

2. **æ¯›ç»ç’ƒæ•ˆæœ**ï¼š

   - 10px æ¨¡ç³Šï¼ˆéå›ºå®šï¼‰/ 15px æ¨¡ç³Šï¼ˆå›ºå®šï¼‰
   - ç°ä»£åŒ–è§†è§‰æ•ˆæœï¼Œä¸èƒŒæ™¯å›¾ç‰‡å’Œè°èåˆ

3. **å¥¶èŒ¶è‰²ç³»ç»Ÿ**ï¼š

   - æµ…è‰²æ¨¡å¼ï¼šå¥¶èŒ¶è‰² `rgba(250, 240, 230, x)`
   - æ·±è‰²æ¨¡å¼ï¼šæ·±è‰² `rgba(24, 23, 29, x)`
   - è¾¹æ¡†å’Œé˜´å½±ä½¿ç”¨ç›¸åº”çš„å¥¶èŒ¶è‰²è°ƒ

4. **æ–‡å­—ä¼˜åŒ–**ï¼š

   - æµ…è‰²æ¨¡å¼ï¼šæ·±å¥¶èŒ¶è‰²æ–‡å­— `#8B7355`
   - æ·±è‰²æ¨¡å¼ï¼šæµ…å¥¶èŒ¶è‰²æ–‡å­— `#F5DEB3`
   - æ–‡å­—é˜´å½±å¢å¼ºå¯è¯»æ€§
   - æ‚¬åœæ•ˆæœæå‡äº¤äº’ä½“éªŒ

5. **å“åº”å¼è®¾è®¡**ï¼š
   - å¹³æ»‘è¿‡æ¸¡åŠ¨ç”»
   - æ‚¬åœæ—¶è½»å¾®ä¸Šç§»æ•ˆæœ
   - é˜´å½±å’ŒèƒŒæ™¯è‰²æ¸å˜å˜åŒ–

## ğŸ¯ è§£å†³æ•ˆæœ

### âœ… å·²è§£å†³çš„é—®é¢˜

- âœ… å¯¼èˆªæ æ–‡å­—åœ¨èƒŒæ™¯å›¾ç‰‡ä¸Šæ¸…æ™°å¯è§
- âœ… ä¿æŒå¥¶èŒ¶è‰²ä¸»é¢˜é£æ ¼ä¸€è‡´æ€§
- âœ… æ·±è‰²/æµ…è‰²æ¨¡å¼å®Œç¾é€‚é…
- âœ… ç°ä»£åŒ–æ¯›ç»ç’ƒè§†è§‰æ•ˆæœ
- âœ… å¹³æ»‘çš„äº¤äº’åŠ¨ç”»

### ğŸ¨ è§†è§‰æ•ˆæœ

- **éå›ºå®šçŠ¶æ€**ï¼šæŸ”å’Œçš„åŠé€æ˜èƒŒæ™¯ï¼Œä¸èƒŒæ™¯å›¾ç‰‡å’Œè°èåˆ
- **å›ºå®šçŠ¶æ€**ï¼šæ›´æ˜æ˜¾çš„èƒŒæ™¯ï¼Œç¡®ä¿æ»šåŠ¨æ—¶æ–‡å­—æ¸…æ™°
- **æ‚¬åœæ•ˆæœ**ï¼šå¥¶èŒ¶è‰²èƒŒæ™¯é«˜äº®ï¼Œç™½è‰²æ–‡å­—ï¼Œå¾®å¦™ä¸Šç§»åŠ¨ç”»
- **æ•´ä½“åè°ƒ**ï¼šä¸é¡µè„šç¾½åŒ–æ•ˆæœå’Œå…¨å±€å¥¶èŒ¶è‰²ä¸»é¢˜å®Œç¾é…åˆ

## ğŸ“Š å½“å‰å¯¼èˆªæ çŠ¶æ€ï¼ˆæ›´æ–°åï¼‰

### âœ… åŠŸèƒ½å®Œå–„

- å¯¼èˆªæ åŸºç¡€ç»“æ„å®Œæ•´
- èœå•é…ç½®æ­£ç¡®
- å“åº”å¼å¸ƒå±€æ­£å¸¸
- æ·±æµ…æ¨¡å¼åˆ‡æ¢æ­£å¸¸
- **èƒŒæ™¯é€æ˜åº¦é—®é¢˜å·²è§£å†³**
- **æ–‡å­—å¯è¯»æ€§å·²ä¼˜åŒ–**
- **è§†è§‰æ•ˆæœå·²å¢å¼º**

### ğŸ‰ ä¼˜åŒ–æˆæœ

1. **å¯è¯»æ€§å¤§å¹…æå‡**ï¼šæ–‡å­—åœ¨ä»»ä½•èƒŒæ™¯ä¸‹éƒ½æ¸…æ™°å¯è§
2. **è§†è§‰å±‚æ¬¡æ¸…æ™°**ï¼šå¯¼èˆªæ ä¸èƒŒæ™¯å›¾ç‰‡æœ‰è¶³å¤Ÿå¯¹æ¯”åº¦
3. **ä¸»é¢˜ä¸€è‡´æ€§**ï¼šå®Œç¾èå…¥å¥¶èŒ¶è‰²è®¾è®¡ä½“ç³»
4. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**ï¼šå¹³æ»‘åŠ¨ç”»å’Œæ‚¬åœæ•ˆæœæå‡äº¤äº’æ„Ÿå—
