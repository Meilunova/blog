# 安知鱼主题页脚相关配置和样式总结

## 📋 主题配置文件中的页脚设置

### 1. 主要页脚配置 (\_config.anzhiyu.yml: 424-540 行)

```yaml
# Footer Settings
footer:
  owner:
    enable: true
    since: 2020
  custom_text:
  runtime:
    enable: true
    launch_time: 07/20/2025 00:00:00 # 网站上线时间
    work_img: https://npm.elemecdn.com/anzhiyu-blog@2.0.4/img/badge/安知鱼-上班摸鱼中.svg
    work_description: 距离月入25k也就还差一个大佬带我~
    offduty_img: https://npm.elemecdn.com/anzhiyu-blog@2.0.4/img/badge/安知鱼-下班啦.svg
    offduty_description: 下班了就该开开心心的玩耍，嘿嘿~

  # 徽标部分配置项
  bdageitem:
    enable: false
    list:
      - link: https://hexo.io/
        shields: https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Frame-Hexo.svg
        message: 博客框架为Hexo_v5.4.0
      - link: https://blog.anheyu.com/
        shields: https://npm.elemecdn.com/anzhiyu-theme-static@1.0.9/img/Theme-AnZhiYu-2E67D3.svg
        message: 本站使用AnZhiYu主题

  # 社交栏配置
  socialBar:
    enable: false
    centerImg:
    left:
      # - title: email
      #   link: mailto:anzhiyu-c@qq.com
      #   icon: anzhiyu-icon-envelope
    right:
      # - title: Github
      #   link: https://github.com/anzhiyu-c
      #   icon: anzhiyu-icon-github

  # 页脚链接列表
  list:
    enable: false
    randomFriends: 3
    project:
      # - title: 服务
      #   links:
      #     - title: 51la统计
      #       link: https://v6.51.la/

  # 页脚栏配置
  footerBar:
    enable: true
    authorLink: /
    cc:
      enable: false
      link: /copyright
    linkList:
      - link: https://github.com/anzhiyu-c/hexo-theme-anzhiyu
        text: 主题
    subTitle:
      enable: false
      effect: true
      startDelay: 300
      typeSpeed: 150
      backSpeed: 50
      loop: true
      source: 1
      sub:
        # - 生活明朗&#44;万物可爱&#44;人间值得&#44;未来可期.
```

### 2. 页脚背景配置 (\_config.anzhiyu.yml: 667 行)

```yaml
# Footer Background
footer_bg: false
```

### 3. 运行时间配置 (\_config.anzhiyu.yml: 863 行)

```yaml
# Time difference between publish date and now (网页运行时间)
runtimeshow:
  enable: true
  publish_date: 7/20/2025 00:00:00
```

## 🎨 主题 CSS 样式文件

### 1. 主要页脚样式 (themes/anzhiyu/source/css/\_layout/footer.styl)

```stylus
#footer
  position: relative
  background: linear-gradient(180deg, var(--anzhiyu-card-bg-none) 0%, var(--anzhiyu-card-bg) 25%);
  background-attachment: scroll
  background-position: bottom
  background-size: cover
  +maxWidth768()
    z-index: 3
    margin-top: -1px;

  if hexo-config('footer_bg') != false
    &:before
      position: absolute
      width: 100%
      height: 100%
      background-color: alpha($dark-black, .5)
      content: ''

#footer-bar
  padding: 1rem;
  color: var(--anzhiyu-fontcolor);
  margin-top: 1rem;
  background: var(--anzhiyu-secondbg);
  display: flex;
  overflow: hidden;
  z-index: 1002;
  transition: 0.3s;

#footer-wrap
  position: relative
  if hexo-config('footer.footerBar') && hexo-config('footer.footerBar.enable')
    padding: 40px 20px 0
  else
    padding: 40px 20px
  color: var(--light-grey)
  text-align: center
```

### 2. 页脚额外样式 (themes/anzhiyu/source/css/\_extra/footer/footer.css)

```css
[data-theme="light"] #footer-wrap {
  color: var(--font-color);
}

#footer-wrap .anzhiyufont.anzhiyu-icon-heartbeat {
  transition: 0.3s;
  animation: heartbeat-bounce 2s ease-in-out infinite;
  -webkit-font-smoothing: antialiased;
  display: var(--fa-display, inline-block);
  font-style: normal;
  font-variant: normal;
  line-height: 1;
  text-rendering: auto;
}

@keyframes heartbeat-bounce {
  0%,
  100% {
    transform: scale(1);
  }
  10%,
  30% {
    transform: scale(0.9);
  }
  20%,
  40%,
  60%,
  80% {
    transform: scale(1.1);
  }
  50%,
  70% {
    transform: scale(1.1);
  }
}
```

### 3. 运行时间样式 (themes/anzhiyu/source/css/\_extra/runtime/runtime.css)

```css
div#runtime {
  width: 180px;
  margin: auto;
  color: #fff;
  padding-inline: 5px;
  border-radius: 10px;
  background-color: rgba(0, 0, 0, 0.7);
}

[data-theme="dark"] div#runtime {
  color: #28b4c8;
  box-shadow: 0 0 5px rgba(28, 69, 218, 0.71);
  animation: flashlight 1s linear infinite alternate;
}

@keyframes flashlight {
  from {
    box-shadow: 0 0 5px #1478d2;
  }
  to {
    box-shadow: 0 0 2px #1478d2;
  }
}
```

## 🔧 页脚相关的 CSS 选择器

### 主要容器

- `#footer` - 页脚主容器
- `#footer-wrap` - 页脚内容包装器
- `#footer-bar` - 页脚栏容器

### 功能组件

- `#runtime` - 运行时间显示
- `#workboard` - 工作状态显示
- `#anzhiyu-footer` - 安知鱼页脚内容
- `#footer_deal` - 页脚交互区域

### 样式类

- `.footer-group` - 页脚分组
- `.footer-title` - 页脚标题
- `.footer-links` - 页脚链接组
- `.footer-item` - 页脚项目
- `.footer-bar-link` - 页脚栏链接
- `.footer-bar-links` - 页脚栏链接容器
- `.footer-bar-left` - 页脚栏左侧
- `.footer-bar-right` - 页脚栏右侧

## 🎯 CSS 变量

### 主要颜色变量

- `var(--anzhiyu-card-bg)` - 卡片背景色
- `var(--anzhiyu-card-bg-none)` - 透明卡片背景
- `var(--anzhiyu-secondbg)` - 次要背景色
- `var(--anzhiyu-fontcolor)` - 字体颜色
- `var(--light-grey)` - 浅灰色
- `var(--anzhiyu-theme)` - 主题色

## 💡 自定义页脚样式建议

### 1. 安全的页脚背景修改

```css
#footer {
  background: rgba(250, 240, 230, 0.95) !important;
}
```

### 2. 页脚文字颜色调整

```css
#footer-wrap {
  color: #8b7355 !important; /* 奶茶色 */
}
```

### 3. 页脚链接颜色

```css
#footer a {
  color: #cd853f !important;
  transition: color 0.3s ease !important;
}

#footer a:hover {
  color: #d2b48c !important;
}
```

### 4. 运行时间样式自定义

```css
div#runtime {
  background-color: rgba(210, 180, 140, 0.8) !important; /* 奶茶色背景 */
  color: #8b7355 !important;
}
```

### 5. 页脚羽化效果 - 让上边缘更柔和

```css
/* 方案一：使用 mask 渐变实现羽化效果 */
#footer-wrap {
  position: relative;
  /* 添加上边缘羽化遮罩 */
  -webkit-mask: linear-gradient(
    to bottom,
    transparent 0%,
    rgba(0, 0, 0, 0.1) 5%,
    rgba(0, 0, 0, 0.5) 15%,
    rgba(0, 0, 0, 1) 25%,
    rgba(0, 0, 0, 1) 100%
  );
  mask: linear-gradient(
    to bottom,
    transparent 0%,
    rgba(0, 0, 0, 0.1) 5%,
    rgba(0, 0, 0, 0.5) 15%,
    rgba(0, 0, 0, 1) 25%,
    rgba(0, 0, 0, 1) 100%
  );
}

/* 方案二：使用伪元素实现羽化效果 */
#footer-wrap::before {
  content: "";
  position: absolute;
  top: -20px;
  left: 0;
  right: 0;
  height: 40px;
  background: linear-gradient(
    to bottom,
    transparent 0%,
    var(--anzhiyu-card-bg) 100%
  );
  pointer-events: none;
  z-index: -1;
}

/* 方案三：使用 box-shadow 实现柔和过渡 */
#footer-wrap {
  box-shadow: 0 -20px 40px -10px var(--anzhiyu-card-bg), 0 -10px 20px -5px rgba(0, 0, 0, 0.1);
}

/* 推荐方案：结合渐变背景和柔和阴影 */
#footer-wrap {
  position: relative;
  background: linear-gradient(
    to bottom,
    rgba(var(--anzhiyu-card-bg-rgb), 0) 0%,
    rgba(var(--anzhiyu-card-bg-rgb), 0.3) 10%,
    rgba(var(--anzhiyu-card-bg-rgb), 0.7) 30%,
    var(--anzhiyu-card-bg) 50%
  );
  /* 添加柔和的上边缘阴影 */
  box-shadow: inset 0 20px 30px -20px rgba(0, 0, 0, 0.1), 0 -5px 15px -5px rgba(0, 0, 0, 0.05);
}
```

### 6. 羽化效果 - 渐变+阴影方案（已修复 Bug）

**✅ 当前已应用的羽化效果**：

```css
/* 页脚主容器强化羽化渐变 */
#footer {
  background: linear-gradient(
    to bottom,
    rgba(250, 240, 230, 0) 0%,
    /* 页脚顶部完全透明 */ rgba(250, 240, 230, 0.02) 5%,
    /* 5%位置极淡显现 */ rgba(250, 240, 230, 0.08) 12%,
    /* 12%位置开始显现 */ rgba(250, 240, 230, 0.2) 25%,
    /* 25%位置轻微显现 */ rgba(250, 240, 230, 0.4) 40%,
    /* 40%位置中等透明 */ rgba(250, 240, 230, 0.7) 60%,
    /* 60%位置较明显 */ rgba(250, 240, 230, 0.9) 80%,
    /* 80%位置接近不透明 */ rgba(250, 240, 230, 1) 100% /* 页脚底部完全不透明 */
  ) !important;

  /* 添加柔和的上边缘阴影来增强羽化效果 */
  box-shadow: inset 0 30px 60px -30px rgba(250, 240, 230, 0.3), 0 -10px
      30px -10px rgba(250, 240, 230, 0.1) !important;
}

/* 页脚内容包装器渐变羽化 */
#footer-wrap {
  background: linear-gradient(
    to bottom,
    rgba(250, 240, 230, 0) 0%,
    /* 完全透明开始 */ rgba(250, 240, 230, 0.05) 8%,
    /* 8%处极淡显现 */ rgba(250, 240, 230, 0.15) 18%,
    /* 18%处开始显现 */ rgba(250, 240, 230, 0.35) 35%,
    /* 35%处轻微显现 */ rgba(250, 240, 230, 0.6) 55%,
    /* 55%处半透明 */ rgba(250, 240, 230, 0.8) 100% /* 底部较不透明 */
  ) !important;

  /* 添加内阴影增强羽化效果 */
  box-shadow: inset 0 20px 40px -20px rgba(250, 240, 230, 0.2), 0 -5px 15px -5px
      rgba(250, 240, 230, 0.1) !important;
}
```

**羽化效果特点：**

- ✅ **Bug 已修复**：移除了会产生条形样式的伪元素
- ✅ **不影响内容**：使用渐变背景，图标和文字保持正常显示
- ✅ **双层羽化**：`#footer` 和 `#footer-wrap` 两层渐变效果
- ✅ **渐进过渡**：8 个透明度节点，实现超柔和过渡
- ✅ **阴影增强**：内外阴影配合，增强羽化视觉效果
- ✅ **兼容性好**：使用标准 CSS 属性，所有浏览器都支持
- ✅ **深浅模式适配**：深色和浅色模式都有相应的羽化效果

**羽化原理说明：**

- **多节点渐变**：使用 8 个透明度节点实现超平滑过渡
- **内阴影**：`inset` 阴影在容器内部创建柔和边缘
- **外阴影**：向上的阴影增强与背景的融合效果

## ⚠️ 注意事项

1. **避免使用伪元素**: `#footer::before` 可能与主题冲突
2. **谨慎修改 z-index**: 页脚的层级设置很重要
3. **保持响应式**: 确保移动端显示正常
4. **测试深色模式**: 确保深色模式下样式正常
5. **避免覆盖核心功能**: 不要影响页脚的交互功能
6. **羽化效果注意**:
   - mask 属性在某些旧浏览器中可能不支持
   - 过度的羽化可能影响文字可读性
   - 建议先在测试环境中预览效果

## � 全局背景设置

### 当前全局背景配置

```css
/* 全局背景图片设置 */
#web_bg {
  background-image: url("https://pub-56bf4aab86514a6684f7dc2b7b994a1f.r2.dev/E946B2AD0E7261BA41AC98B8ACC234D8.jpg") !important;
  background-size: cover !important;
  background-position: center !important;
  background-repeat: no-repeat !important;
  background-attachment: fixed !important;
}

/* 背景遮罩层 - 保持内容可读性 */
#web_bg::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(255, 255, 255, 0.1) !important; /* 浅色模式遮罩 */
  z-index: 1;
  pointer-events: none;
}

/* 深色模式背景遮罩 */
[data-theme="dark"] #web_bg::before {
  background: rgba(0, 0, 0, 0.3) !important; /* 深色模式遮罩 */
}
```

### 背景设置说明

- **图片来源**: R2 存储的高质量背景图
- **显示模式**: 覆盖整个屏幕，居中显示，固定附着
- **响应式**: 自动适配不同屏幕尺寸
- **可读性保护**: 添加半透明遮罩确保文字清晰可读
- **深色模式适配**: 深色模式下自动调整遮罩颜色

## �🎉 当前页脚状态

你的博客当前页脚配置：

- ✅ 运行时间显示已启用
- ✅ 页脚栏已启用
- ✅ 自定义奶茶色样式已应用
- ✅ 页脚羽化效果已配置（最终可行方案）
- ✅ 全局背景图片已设置
- ✅ 所有功能正常工作

## 🎯 最终羽化效果 - 经过深度分析的可行方案

**✨ 问题根源分析**：

- 主题默认的 25%硬切换点导致"硬边缘"
- 深色模式的 `#footer:before` 伪元素冲突
- CSS 变量使用不当导致颜色不匹配

**🔧 最终技术方案（真正的边缘羽化）**：

```css
/* 真正的边缘羽化效果 - 模糊+透明度遮罩 */
#footer {
  background: var(--anzhiyu-card-bg) !important;

  /* 使用 mask 实现边缘羽化 - 上边缘模糊过渡 */
  -webkit-mask: linear-gradient(
    to bottom,
    transparent 0%,
    rgba(0, 0, 0, 0.1) 3%,
    rgba(0, 0, 0, 0.3) 8%,
    rgba(0, 0, 0, 0.6) 15%,
    rgba(0, 0, 0, 0.9) 25%,
    rgba(0, 0, 0, 1) 35%,
    rgba(0, 0, 0, 1) 100%
  ) !important;
}

/* 为页脚上边缘添加额外的模糊羽化层 */
#footer::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 60px;
  background: var(--anzhiyu-card-bg);
  filter: blur(8px) !important;
  opacity: 0.6;
  z-index: -1;

  /* 为模糊层也添加遮罩 */
  -webkit-mask: linear-gradient(
    to bottom,
    rgba(0, 0, 0, 0.8) 0%,
    rgba(0, 0, 0, 0.4) 50%,
    transparent 100%
  );
}
```

**✅ 真正边缘羽化方案优势**：

- **双重羽化技术**：mask 遮罩 + filter 模糊，实现真正的边缘羽化
- **透明度遮罩**：0%-35% 渐进透明度，创造柔和边缘过渡
- **模糊羽化层**：8px 模糊的伪元素层，增强羽化视觉效果
- **分层设计**：主容器 + 模糊层，双重保障羽化效果
- **主题兼容**：使用原生 CSS 变量，深浅模式自动适配
- **真实羽化**：不是简单的透明度变化，而是真正的边缘模糊效果
